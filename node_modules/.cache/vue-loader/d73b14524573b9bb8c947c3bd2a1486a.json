{"remainingRequest":"/Volumes/Macintosh HD - Data/project/金融项目/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/Macintosh HD - Data/project/金融项目/src/views/account/audit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/Macintosh HD - Data/project/金融项目/src/views/account/audit.vue","mtime":1638503603745},{"path":"/Volumes/Macintosh HD - Data/project/金融项目/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Macintosh HD - Data/project/金融项目/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/Macintosh HD - Data/project/金融项目/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/Macintosh HD - Data/project/金融项目/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldCB9IGZyb20gIkAvdXRpbHMvaHR0cCI7CmltcG9ydCBicmVhZENydW1iIGZyb20gIkAvbWl4aW5zL2JyZWFkQ3J1bWIuanMiCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6W2JyZWFkQ3J1bWJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgIHNlbGVjdGVkOltdLAogICAgICBzZWFyY2hWYWx1ZTogIiIsCiAgICAgIGZvcm06IHsKICAgICAgICBjaGFyYWN0ZXI6ICIiLAogICAgICAgIHJlbWFyazogIiIsCiAgICAgICAgcmVhc29uOiAiIiwKICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0b3RhbDogIiIsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY2hhcmFjdGVyOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6KeS6ImyIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwKICAgICAgICBdLAogICAgICAgIHJlbWFyazogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXlpIfms6giLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgcmVhc29uOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5Yib5bu65Y6f5ZugIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5saXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXN0KCkgewogICAgICBnZXQoIi9hbGwiKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIC8v57yW6L6RCiAgICBoYW5kbGVFZGl0KGRhdGEpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBjaGFyYWN0ZXI6IGRhdGEuY2hhcmFjdGVyLAogICAgICAgIHJlbWFyazogZGF0YS5yZW1hcmssCiAgICAgICAgcmVhc29uOiBkYXRhLnJlYXNvbiwKICAgICAgfTsKICAgIH0sCiAgICAvL+aWsOWingogICAgY3JlYXRlKCl7CiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCk9PnsKICAgICAgICAgICAgdGhpcy4kcmVmc1siZm9ybXMiXS5yZXNldEZpZWxkcygpOwogICAgICAgIH0pCiAgICB9LAogICAgLy/liKDpmaQKICAgIGhhbmRsZURlbGV0ZShhY2NvdW50KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeaVsOaNriwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiBg6LSm5oi3JHthY2NvdW50feW3suaIkOWKn+WIoOmZpGAsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Llj5bmtojliKDpmaQiLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy/mkJzntKIKICAgIHNlYXJjaCgpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6IGDmgqjnmoTmkJzntKLlhoXlrrnmmK8ke3RoaXMuc2VhcmNoVmFsdWV9YCwKICAgICAgfSk7CiAgICB9LAogICAgLy/mk43kvZwKICAgIG9wZXJhdGUodHlwZSkgewogICAgICBsZXQgY291bnRzID0gdGhpcy5zZWxlY3RlZC5tYXAoKGl0ZW0pID0+IGl0ZW0uYWNjb3VudCk7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygKICAgICAgICBg6LSm5oi3JHtjb3VudHN95bey6KKrJHt0eXBlID09IDEgPyAi5ZCv5YqoIiA6IHR5cGUgPT0gMiA/ICLlhrvnu5MiIDogIuWIoOmZpCJ9YAogICAgICApOwogICAgICB0aGlzLmxpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKXsKICAgICAgICB0aGlzLnNlbGVjdGVkPXNlbGVjdGlvbgogICAgfSwKICAgIG9uT2soKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm1zIl0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtLmNoYXJhY3Rlcik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIm+W7uuaIkOWKnyIpOwogICAgICAgICAgdGhpcy5saXN0KCk7CiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["audit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"audit.vue","sourceRoot":"src/views/account","sourcesContent":["<template>\n  <div>\n     <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"bread\">\n      <el-breadcrumb-item\n        v-for=\"(item,index) in breadList\"\n        :key=\"index\"\n      >{{item}}</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-row  style=\"margin-bottom:20px\">\n      <el-col :span=\"8\">\n        <el-input placeholder=\"手机号、姓名、角色类型\" v-model.trim=\"searchValue\">\n          <el-button slot=\"append\" icon=\"el-icon-search\" v-on:click=\"search\"></el-button>\n        </el-input>\n      </el-col>\n      <el-col :span=\"8\" :offset=\"8\" style=\"text-align:right\">\n        <el-button type=\"primary\" @click=\"create\">新建角色</el-button>\n        <el-button :disabled=\"!selected.length\" @click=\"operate(1)\">启动</el-button>\n        <el-button :disabled=\"!selected.length\" @click=\"operate(2)\">冻结</el-button>\n        <el-button :disabled=\"!selected.length\" @click=\"operate(3)\">删除</el-button>\n      </el-col>\n    </el-row>\n    <el-table :data=\"tableData\" style=\"width: 100%\"  @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\"></el-table-column>\n      <el-table-column type=\"index\" label=\"序号\"></el-table-column>\n      <el-table-column prop=\"account\" label=\"账户\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"用户名\"></el-table-column>\n      <el-table-column prop=\"character\" label=\"角色\"></el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\" show-overflow-tooltip></el-table-column>\n      <el-table-column prop=\"reason\" label=\"创建原因\"></el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\">\n        <template slot-scope=\"scope\">{{scope.row.status==1?\"已启用\":\"未启用\"}}</template>\n      </el-table-column>\n      <el-table-column prop=\"remark\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row.account)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog title=\"新建角色\" :visible.sync=\"dialogFormVisible\" width=\"500px\">\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"forms\">\n        <el-form-item label=\"角色\" label-width=\"100px\" prop=\"character\">\n          <el-select v-model=\"form.character\" placeholder=\"请选择角色\" style=\"width:100%\">\n            <el-option label=\"业务人员\" value=\"1\"></el-option>\n            <el-option label=\"审核人员\" value=\"2\"></el-option>\n            <el-option label=\"风控经理\" value=\"3\"></el-option>\n            <el-option label=\"管理员\" value=\"4\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" label-width=\"100px\" prop=\"remark\">\n          <el-input v-model=\"form.remark\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"创建原因\" label-width=\"100px\" prop=\"reason\">\n          <el-input type=\"textarea\" v-model=\"form.reason\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"onOk\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { get } from \"@/utils/http\";\nimport breadCrumb from \"@/mixins/breadCrumb.js\"\nexport default {\n  mixins:[breadCrumb],\n  data() {\n    return {\n        selected:[],\n      searchValue: \"\",\n      form: {\n        character: \"\",\n        remark: \"\",\n        reason: \"\",\n      },\n      dialogFormVisible: false,\n      tableData: [],\n      total: \"\",\n      rules: {\n        character: [\n          { required: true, message: \"请选择角色\", trigger: \"change\" },\n        ],\n        remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }],\n        reason: [\n          { required: true, message: \"请输入创建原因\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  mounted() {\n    this.list();\n  },\n  methods: {\n    list() {\n      get(\"/all\").then((res) => {\n        console.log(res);\n        this.tableData = res.data.list;\n        this.total = res.data.total;\n      });\n    },\n    //编辑\n    handleEdit(data) {\n      this.dialogFormVisible = true;\n      this.form = {\n        character: data.character,\n        remark: data.remark,\n        reason: data.reason,\n      };\n    },\n    //新增\n    create(){\n        this.dialogFormVisible = true;\n        this.$nextTick(()=>{\n            this.$refs[\"forms\"].resetFields();\n        })\n    },\n    //删除\n    handleDelete(account) {\n      this.$confirm(\"此操作将永久删除该数据, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.$message({\n            type: \"success\",\n            message: `账户${account}已成功删除`,\n          });\n          this.list();\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    //搜索\n    search() {\n      this.$message({\n        showClose: true,\n        message: `您的搜索内容是${this.searchValue}`,\n      });\n    },\n    //操作\n    operate(type) {\n      let counts = this.selected.map((item) => item.account);\n      this.$message.success(\n        `账户${counts}已被${type == 1 ? \"启动\" : type == 2 ? \"冻结\" : \"删除\"}`\n      );\n      this.list();\n    },\n    handleSelectionChange(selection){\n        this.selected=selection\n    },\n    onOk() {\n      this.$refs[\"forms\"].validate(valid => {\n        if (valid) {\n          console.log(this.form.character);\n          this.$message.success(\"创建成功\");\n          this.list();\n          this.dialogFormVisible = false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}